# Укорачиватель ссылок

### Требования

- Ссылка должна быть уникальной и на один оригинальный URL должна ссылаться только одна сокращенная ссылка.
- Ссылка должна быть длинной 10 символов.
- Ссылка должна состоять из символов латинского алфавита в нижнем и верхнем регистре, цифр и символа _ (подчеркивание).

Сервис должен принимать следующие запросы по http:
1. Метод Post, который будет сохранять оригинальный URL в базе и возвращать сокращённый.
2. Метод Get, который будет принимать сокращённый URL и возвращать оригинальный URL.

- Сервис должен быть распространён в виде Docker-образа.
- В качестве хранилища ожидается использовать in-memory решение и postgresql. Какое хранилище использовать указывается параметром при запуске сервиса.
- Покрыть реализованный функционал Unit-тестами.

Для запуска приложения (по умолчанию inmemory):

```
make run
```

Для запуска в режиме postgresql:

```
make postgres
```
Для запуска unit тестов:

```
make test
```

Метод Post: Примает ссылку, валидирует, генерирует токен формата [a-zA-Z0-9_], сохраняет и возвращает токен. Если ссылка не прошла валидацию возвращает ошибку.
```
curl -X POST 'http://localhost:8080' -H 'Content-Type: text/plain; charset=utf-8' --data-raw 'https://ozon.ru'
```
Метод Get: Принимает токен, валидирует, проверяет наличие в базе данных, возвращает оригинальную ссылку. Если токен не найден возвращает ошибку.
```
curl -i http://localhost:8080/?url=CnA_DeJRJY
```


### To-do:
postgree tests